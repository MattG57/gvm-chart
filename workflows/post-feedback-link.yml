name: 'PR Survey Comment'
description: 'Posts a PR comment with a survey link containing PR metadata'

inputs:
  base-url:
    description: 'https://www.gvm-chart.com/copilot/surveys/new'
    required: true

runs:
  using: 'composite'
  steps:
    - name: Post PR feedback comment
      uses: peter-evans/create-or-update-comment@v4
      with:
        token: ${{ github.token }}
        issue-number: ${{ github.event.pull_request.number }}
        body: |
          ðŸ§  [Click to give feedback](${{ inputs.base-url }}?author=${{ github.event.pull_request.user.login }}&repo=${{ github.repository }}&prno=${{ github.event.pull_request.number }})
